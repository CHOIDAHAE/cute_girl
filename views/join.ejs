<!DOCTYPE html>
<html lang="ko">
    <head>
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<link href="../css/join.css?after" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" crossorigin="anonymous" />
		<meta charset="utf-8" />
		<title>MYDRIVE : 회원가입</title>
	</head>
	<script>
		function joinUser(){
			if ($("#id").val() == "") {
				alert("아이디를 입력해주세요.");
				$("#id").focus();
				return;
			}

			//비밀번호
			if ($("#pswd1").val() == "") {
				alert("비밀번호를 입력해주세요.");
				$("#pswd1").focus();
				return;
			}

			//비밀번호 재확인
			if ($("#pswd2").val() == "") {
				alert("비밀번호를 재확인을 해주세요.");
				$("#pswd2").focus();
				return;
			}
			
			/*이름
			if ($("name").val() == "") {
				alert("이름을 입력해주세요.");
				$("name").focus();
				return;
			}
			
			/*성별
			if ($("gender").val() == "") {
				alert("성별을 선택해주세요.");
				$("gender").focus();
				return;
			}

			// 이메일 선택사항
			if ($("email").val() == "") {
				alert("이메일을 입력해주세요.");
				$("gender").focus();
				return;
			)
			
			//휴대전화
			if ($("phoneNo").val() == "") {
				alert("이름을 입력해주세요.");
				$("phoneNo").focus();
				return;
			}*/

			var dataInfo = {};
			dataInfo.id			= $("#id").val();
			dataInfo.pw			= $("#pswd1").val();
			dataInfo.name		= $("#name").val();
			dataInfo.gender		= $("#gender").val();
			dataInfo.email		= $("#email").val();
			dataInfo.phoneNo	= $("#phoneNo").val();
			
			$.ajax({
				contentType : 'application/json; charset=utf-8', type : 'post', dataType : 'json', async : false,
				url  : '/frmNIDJoin',
				data : JSON.stringify(dataInfo),
				success : function(data) {
					console.log(data);
					if(data ==="S"){
						alert("정상적으로 회원가입 되었습니다.");
						//document.location.href="/login";
					}										
				}
			});
		}
	</script>
	<body>
		<div id="header" class="join_membership" role="banner">
			<a href="/">
				<sapn class="logo_style">
					<i class="fa-solid fa-cloud"></i>
					MYDRIVE
				</span>
			</a>
		</div>
		<form id="join_form" method="post" action="/frmNIDJoin">
			<div id="container" role="main">
				<div id="content">
					<div class="join_content">
						<div class="row_group">
							<div class="join_row">
								<h3 class="join_title">
									<label for="id">아이디</label>
								</h3>
								<span class="ps_box int_id">
									<input type="text" id="id" name="id" class="int" title="ID" maxlength="20" autocomplete="username"/>
								</span>
							</div>
							<div class="join_row">
								<h3 class="join_title">
									<label for="pswd1">비밀번호</label>
								</h3>
								<span class="ps_box int_pass" id="pswd1Img">
									<input type="password" id="pswd1" name="pswd1" class="int" title="비밀번호 입력" maxlength="20" autocomplete="new-password"/>
								</span>
								<h3 class="join_title">
									<label for="pswd2">비밀번호 재확인</label>
								</h3>
								<span class="ps_box int_pass_check" id="pswd2Img">
									<input type="password" id="pswd2" name="pswd2" class="int" title="비밀번호 재확인 입력" maxlength="20" autocomplete="new-password"/>
								</span>
							</div>
						</div>
						<div class="row_group">
							<div class="join_row">
								<h3 class="join_title">
									<label for="name">이름</label>
								</h3>
								<span class="ps_box box_right_space">
									<input type="text" id="name" name="name" title="이름" class="int" maxlength="40"/>
								</span>
							</div>
							<div class="join_row join_sex">
								<h3 class="join_title">
									<label for="name">성별</label>
								</h3>
								<div class="ps_box gender_code">
									<select id="gender" name="gender" class="sel" aria-label="성별">
										<option value selected>성별</option>
										<option value="M">남자</option>
										<option value="W">여자</option>
										<option value="U">선택안함</option>
									</select>
								</div>
							</div>
							<div class="join_row join_email">
								<h3 class="join_title">
									<label for="email">
										본인 확인 이메일
									</label>
									<span class="terms_choice">(선택)</span>
								</h3>
								<span class="ps_box int_email box_right_space">
									<input type="text" id="email" name="email" placeholder="선택입력" aria-label="선택입력" maxlength="100"/>
								</span>
							</div>
						</div>
						<div class="join_row join_mobile">
							<h3 class="join_title">
								<label for="phoneNo">휴대전화</label>
							</h3>
							<div class="ps_box country_code">
								<input type="text" id="nationNo" class="sel" value="82"/>
							</div>
							<div class="int_mobile_area">
								<span class="ps_box int_mobile">
									<input type="tel" id="phoneNo" name="phoneNo" placeholder="전화번호 입력" class="int" maxlength="16" />
								</span>
								<a href="#" class="btn_verify btn_primary" id="btnSend" role="button">
									<span>인증번호 받기</span>
								</a>
							</div>
							<div class="ps_box_disable box_right_space" id="authNoBox">
								<input type="tel" id="autoNo" name="authNo" placeholder="인증번호 입력하세요" class="int" disabled maxlength="4">
								<label id="wa_verify" for="authNo" class="lbl">
									<span class="wa_blind">인증받은 후 인증번호를 입력해야 합니다.</span>
									<span class="input_code" id="authNoCode" style="display:none;"></span>
								</label>
							</div>
						</div>
						<div class="btn_area">
							<!--<button type="submit" id="btnJoin" class="btn_type btn_primary">-->
							<button type="button" id="btnJoin" class="btn_type btn_primary" onclick="joinUser()">
								<span>가입하기</span>
							</button>
						</div>
					</div>
				</div>
			</div>
		</form>
		<div id="footer" role="contentinfo">
			<ul>
				<li>
					<a href="#">이용약관</a>
				</li>
				<li>
					<strong>
						<a href="#">개인정보처리방침</a>
					</strong>
				</li>
				<li>
					<a href="#">책임의 한계와 법적고지</a>
				</li>
				<li>
					<a href="#">회원정보 고객센터</a>
				</li>
			</ul>
			<address class="copyright">
				<em>
					<a href="/">
						<sapn class="bigger">
							<i class="fa-solid fa-cloud"></i>
							MYDRIVE
						</span>
					</a>
				</em>
				<em class="copy">Copyright</em>
				<em class="u_cri">©</em>
				<span class="all_r">ALL Rights Reserved.</span>
			</address>
		</div>
	</body>
</html>